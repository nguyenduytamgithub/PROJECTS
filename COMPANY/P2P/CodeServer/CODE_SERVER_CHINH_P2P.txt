CODE 2 CỦA SERVER CHÍNH
[{"id":"f6752471.0d5a88","type":"mqtt in","z":"c2a9ac8.fa84c5","name":"","topic":"LISTENING","qos":"2","broker":"422f1d39.a7d984","x":110,"y":240,"wires":[["99e2e5d5.afceb8"]]},{"id":"99e2e5d5.afceb8","type":"json","z":"c2a9ac8.fa84c5","name":"","property":"payload","action":"","pretty":false,"x":270,"y":240,"wires":[["29634206.3a872e","da08fb1c.8c37d8"]]},{"id":"7d58b364.e2e8bc","type":"function","z":"c2a9ac8.fa84c5","name":"","func":"let to = msg.payload.to\nlet from = msg.payload.from\nlet content = msg.payload.content\nmsg.payload = {\n    \"from\": from,\n    \"content\" : content\n}\nmsg.topic = to\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":280,"wires":[["c3ff5cbd.7bd56"]]},{"id":"29634206.3a872e","type":"debug","z":"c2a9ac8.fa84c5","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":430,"y":200,"wires":[]},{"id":"da08fb1c.8c37d8","type":"switch","z":"c2a9ac8.fa84c5","name":"","property":"payload.to","propertyType":"msg","rules":[{"t":"null"},{"t":"nnull"}],"checkall":"true","repair":false,"outputs":2,"x":410,"y":280,"wires":[[],["7d58b364.e2e8bc"]]},{"id":"c3ff5cbd.7bd56","type":"mqtt out","z":"c2a9ac8.fa84c5","name":"","topic":"","qos":"","retain":"","broker":"422f1d39.a7d984","x":730,"y":280,"wires":[]},{"id":"422f1d39.a7d984","type":"mqtt-broker","z":"","name":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""}]